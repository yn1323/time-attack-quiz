# タイムアタッククイズ大会アプリ 仕様書

## 概要

身内でのグループ対抗クイズ大会を運営するためのWebアプリケーション。
グループごとに1台のPCを使用し、制限時間内にできるだけ多くのクイズに正解することを目指す。

### 想定規模

- 参加グループ数: 4〜5グループ
- 1グループ1PC

---

## ゲームルール

| 項目 | 内容 |
|------|------|
| 制限時間 | 10分間 |
| 正解 | +5点 |
| 不正解 | -2点 |
| クイズ形式 | 3択 |
| 問題数 | 約100問（JSONで事前用意） |
| 出題方式 | 各チームにランダム出題（チーム間で重複OK） |
| 回答後 | 正解/不正解 + 正しい答えを表示して次の問題へ |

※ 得点配分は後で調整可能

---

## ページ構成

### 1. TOPページ

- ロビー（大会）を新規作成する機能

### 2. ロビーページ (`/lobby/{lobbyUUID}`)

- 大会の待機ページ
- このURLを参加者に共有する
- 参加者はグループ名を入力して参加
- グループ名入力後、各グループ専用ページに遷移
- 管理者が「開始」するまで待機

### 3. グループページ (`/group/{groupUUID}`)

- クイズ回答画面
- 3択の選択肢から回答
- 回答後、正解/不正解と正しい答えを表示
- 現在の得点を表示
- 残り時間を表示
- 時間終了後は「終了」と表示し、追加の回答を受け付けない

### 4. 管理ページ

#### 開始前
- 各チームの参加状況を確認
- 「開始」ボタンで大会スタート

#### クイズ中
- リアルタイムでランキング表示（1位〜5位を縦に並べる）
- プロジェクター投影用を想定
- 各チームのスコアをリアルタイム同期

#### 終了後
- 「結果発表」ボタンで結果発表スライドへ遷移

---

## 演出

### 開始時
- カウントダウン演出（3, 2, 1, スタート!）

### 終了時
- 終了演出
- 操作不可に切り替え

### 結果発表
- ドラマチック演出
- 3位 → 2位 → 1位 の順番で発表

---

## 統計機能

### チーム別統計

| 統計項目 | 説明 |
|----------|------|
| 正解率 | 正解数 / 回答数 |
| 連続正解記録 | 最大連続正解数 |
| 平均回答時間 | 1問あたりの平均回答秒数 |

### 大会アワード

| アワード | 説明 |
|----------|------|
| 最速正解賞 | 最も早く正解したチーム |
| ラストスパート賞 | 残り2分で一番伸びたチーム |

### グラフ

- 10分間のスコア変遷を折れ線グラフで表示
- 各チームの推移を重ねて表示

---

## 画面遷移フロー

```
TOPページ
    ↓ ロビー作成
ロビーページ (/lobby/{lobbyUUID})
    ↓ グループ名入力
グループページ (/group/{groupUUID}) ← 待機中
    ↓ 管理者が開始
グループページ ← クイズ回答中（10分間）
    ↓ 時間終了
グループページ ← 終了表示

---

管理ページ（別画面）
    ↓ 開始ボタン
管理ページ ← リアルタイムランキング表示
    ↓ 時間終了後、結果発表ボタン
結果発表スライド
```

---

## クイズデータ形式

JSONファイルで事前に用意。カテゴリ分けなし。

```json
[
  {
    "question": "問題文",
    "choices": ["選択肢1", "選択肢2", "選択肢3"],
    "answer": 0
  }
]
```

※ `answer` は正解の選択肢のインデックス（0始まり）

---

## 補足事項

- リアルタイム同期にはWebSocket（またはFirestore）を使用予定
- 管理ページはプロジェクター投影を想定し、競争心を煽る演出に配慮
